<!DOCTYPE html>

<html lang="zh-CN">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>智慧仓储驾驶舱 - 2026-01-09</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://code.iconify.design/3/3.1.1/iconify.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <style>
        .hide-scrollbar::-webkit-scrollbar {
            display: none;
        }

        .hide-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        @keyframes pulse-red {

            0%,
            100% {
                background-color: rgba(239, 68, 68, 0.1);
            }

            50% {
                background-color: rgba(239, 68, 68, 0.3);
            }
        }

        .animate-alert {
            animation: pulse-red 2s infinite;
        }
    </style>
</head>

<body class="bg-gray-900 text-slate-200 font-sans overflow-hidden h-screen flex flex-col">
    <!-- 顶部标题栏 -->
    <header
        class="h-16 flex items-center justify-between px-6 bg-gray-800 border-b border-gray-700 backdrop-blur-md shrink-0">
        <div class="flex items-center gap-4">
            <span class="iconify text-3xl text-gray-400" data-icon="mdi:warehouse"></span>
            <h1 class="text-xl font-bold tracking-widest text-white">智慧仓储实时驾驶舱</h1>
        </div>
        <div class="flex items-center gap-8">
            <div class="flex items-center gap-4 text-sm text-slate-400">
                <div class="flex items-center gap-1.5"><span class="w-2 h-2 rounded-full bg-gray-300"></span> 系统运行正常
                </div>
                <div id="current-time">2026-01-09 10:00:00</div>
            </div>
            <div class="flex bg-gray-700 rounded-lg p-1">
                <button class="px-4 py-1.5 rounded-md bg-gray-600 text-white text-sm shadow-lg">大屏概览</button>
                <button
                    class="px-4 py-1.5 rounded-md text-gray-400 hover:text-white text-sm transition-colors">过程监管</button>
                <button
                    class="px-4 py-1.5 rounded-md text-gray-400 hover:text-white text-sm transition-colors">监控管理</button>
            </div>
        </div>
    </header>
    <!-- 主体区域 -->
    <main class="flex-1 p-6 grid grid-cols-12 gap-6 overflow-hidden">
        <!-- 左侧：核心KPI与入库趋势 -->
        <aside class="col-span-3 flex flex-col gap-6">
            <!-- KPI 卡片组 -->
            <div class="grid grid-cols-2 gap-4">
                <div
                    class="bg-gray-800/40 border border-gray-700 p-4 rounded-xl hover:border-gray-500/50 transition-all cursor-default">
                    <p class="text-slate-400 text-xs mb-1">库存总值 (CNY)</p>
                    <h3 class="text-2xl font-bold text-white">42.85M</h3>
                    <p class="text-xs text-gray-300 mt-2 flex items-center gap-1"><span class="iconify"
                            data-icon="mdi:arrow-up"></span> 12.5%</p>
                </div>
                <div
                    class="bg-gray-800/40 border border-gray-700 p-4 rounded-xl hover:border-gray-500/50 transition-all cursor-default">
                    <p class="text-slate-400 text-xs mb-1">月均周转率</p>
                    <h3 class="text-2xl font-bold text-white">4.2次</h3>
                    <p class="text-xs text-gray-400 mt-2 flex items-center gap-1"><span class="iconify"
                            data-icon="mdi:minus"></span> 稳健</p>
                </div>
            </div>
            <!-- 出入库流水统计 -->
            <div
                class="flex-1 bg-gray-800/40 border border-gray-700 rounded-xl p-4 flex flex-col hover:shadow-2xl hover:shadow-gray-500/5 transition-all">
                <div class="flex justify-between items-center mb-4">
                    <h4 class="font-semibold text-gray-400 flex items-center gap-2">
                        <span class="iconify" data-icon="mdi:chart-line"></span> 出入库趋势
                    </h4>
                    <select class="bg-gray-700 text-xs border-none rounded px-2 py-1 outline-none">
                        <option>最近7天</option>
                        <option>本月</option>
                    </select>
                </div>
                <div class="flex-1" id="trend-chart"></div>
            </div>
            <!-- 库位利用率 -->
            <div class="h-48 bg-gray-800/40 border border-gray-700 rounded-xl p-4 flex flex-col">
                <h4 class="font-semibold text-gray-400 mb-2 flex items-center gap-2">
                    <span class="iconify" data-icon="mdi:border-all"></span> 库位利用率
                </h4>
                <div class="flex-1 flex items-center justify-around">
                    <div class="w-full h-full" id="gauge-chart"></div>
                </div>
            </div>
        </aside>
        <!-- 中间：核心地图与监控模块 -->
        <section class="col-span-6 flex flex-col gap-6">
            <!-- 地图与实时监控 -->
            <div class="flex-1 bg-gray-800/40 border border-gray-700 rounded-xl relative overflow-hidden group">
                <!-- 顶层交互层 -->
                <div class="absolute top-4 left-4 z-10 space-y-2">
                    <div class="bg-gray-700/80 backdrop-blur px-3 py-2 rounded shadow-xl border border-gray-600">
                        <p class="text-[10px] text-gray-500 uppercase font-bold tracking-tighter">当前区域</p>
                        <p class="text-sm font-bold text-gray-300">华东一号智能中央仓</p>
                    </div>
                </div>
                <!-- 地图占位 -->
                <div class="absolute inset-0 opacity-40">
                    <img alt="Warehouse 3D Floor Map Layout" class="w-full h-full object-cover" id="img-1"
                        src="https://modao.cc/agent-py/media/generated_images/2026-01-09/5a1e871e11f149b58aa954bcc9dc79c6.jpg" />
                </div>
                <!-- 悬浮点 - 模拟下钻按钮 -->
                <button
                    class="absolute top-[40%] left-[30%] bg-gray-500/80 hover:bg-gray-400 p-2 rounded-full border-4 border-white/20 shadow-2xl transition-all cursor-pointer group active:scale-95"
                    onclick="triggerDrilldown()">
                    <span class="iconify text-white animate-bounce" data-icon="mdi:map-marker"></span>
                    <div
                        class="absolute top-10 left-1/2 -translate-x-1/2 hidden group-hover:block bg-slate-900 text-xs p-2 rounded whitespace-nowrap z-20">
                        点击进入货架级分析</div>
                </button>
                <div class="absolute bottom-4 right-4 flex gap-2">
                    <div
                        class="flex items-center gap-2 bg-gray-800/80 px-3 py-1.5 rounded-full text-xs border border-gray-600">
                        <span class="w-2 h-2 bg-gray-400 rounded-full"></span> 活跃设备: 24
                    </div>
                    <div
                        class="flex items-center gap-2 bg-gray-800/80 px-3 py-1.5 rounded-full text-xs border border-gray-600">
                        <span class="w-2 h-2 bg-gray-300 rounded-full"></span> 待维护: 2
                    </div>
                </div>
            </div>
            <!-- 数据下钻展示区域 (默认隐藏) -->
            <div class="h-0 opacity-0 overflow-hidden transition-all duration-500 bg-gray-700 rounded-xl"
                id="drill-down-panel">
                <div class="p-4 flex flex-col h-full">
                    <div class="flex justify-between items-center mb-3">
                        <h5 class="text-white font-bold flex items-center gap-2">
                            <span class="iconify text-gray-400" data-icon="mdi:magnify"></span> 区域明细下钻分析: C-04区
                        </h5>
                        <button class="text-slate-400 hover:text-white" onclick="closeDrilldown()">
                            <span class="iconify" data-icon="mdi:close"></span>
                        </button>
                    </div>
                    <div class="flex-1 grid grid-cols-3 gap-4">
                        <div class="bg-gray-800 rounded p-3">
                            <p class="text-xs text-slate-500 mb-2">货位饱和度</p>
                            <div class="w-full bg-slate-800 h-2 rounded-full overflow-hidden">
                                <div class="bg-gray-500 h-full w-[85%]"></div>
                            </div>
                            <p class="text-right text-xs mt-1">85%</p>
                        </div>
                        <div class="bg-gray-800 rounded p-3">
                            <p class="text-xs text-slate-500 mb-1">今日拣货总量</p>
                            <p class="text-xl font-bold">1,204 件</p>
                        </div>
                        <div class="bg-gray-800 rounded p-3">
                            <p class="text-xs text-slate-500 mb-1">异常报警数</p>
                            <p class="text-xl font-bold text-gray-200">2 起</p>
                        </div>
                    </div>
                </div>
            </div>
            <!-- 多维分析表格 -->
            <div class="h-64 bg-gray-800/40 border border-gray-700 rounded-xl p-4 overflow-hidden flex flex-col">
                <div class="flex justify-between items-center mb-4">
                    <h4 class="font-semibold text-gray-400 flex items-center gap-2">
                        <span class="iconify" data-icon="mdi:table-search"></span> 实时作业明细
                    </h4>
                    <div class="flex gap-2">
                        <input
                            class="bg-gray-700 text-xs text-slate-300 border border-gray-600 rounded px-3 py-1 focus:border-gray-500 outline-none"
                            placeholder="搜索单据号..." type="text" />
                        <button
                            class="bg-gray-600 hover:bg-gray-500 text-xs px-3 py-1 rounded transition-colors">筛选</button>
                    </div>
                </div>
                <div class="flex-1 overflow-auto hide-scrollbar">
                    <table class="w-full text-xs text-left">
                        <thead class="bg-gray-700 text-slate-400 sticky top-0">
                            <tr>
                                <th class="p-3">单据编号</th>
                                <th class="p-3">作业类型</th>
                                <th class="p-3">物资名称</th>
                                <th class="p-3">操作数量</th>
                                <th class="p-3">下达时间</th>
                                <th class="p-3">当前状态</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-slate-800">
                            <tr class="hover:bg-gray-700/50 transition-colors">
                                <td class="p-3">IN-20260109-001</td>
                                <td class="p-3"><span
                                        class="px-2 py-0.5 bg-gray-500/10 text-gray-300 rounded border border-gray-500/20">入库</span>
                                </td>
                                <td class="p-3">精密传动模组 A</td>
                                <td class="p-3">450</td>
                                <td class="p-3 text-slate-500">09:12:44</td>
                                <td class="p-3"><span class="flex items-center gap-1.5"><span
                                            class="w-1.5 h-1.5 bg-gray-400 rounded-full animate-pulse"></span>执行中</span>
                                </td>
                            </tr>
                            <tr class="hover:bg-gray-700/50 transition-colors">
                                <td class="p-3">OUT-20260109-024</td>
                                <td class="p-3"><span
                                        class="px-2 py-0.5 bg-gray-600/10 text-gray-300 rounded border border-gray-600/20">出库</span>
                                </td>
                                <td class="p-3">光伏组件 B-V3</td>
                                <td class="p-3">1,200</td>
                                <td class="p-3 text-slate-500">08:45:10</td>
                                <td class="p-3 text-slate-400">已完成</td>
                            </tr>
                            <tr class="hover:bg-gray-700/50 transition-colors">
                                <td class="p-3">IN-20260109-002</td>
                                <td class="p-3"><span
                                        class="px-2 py-0.5 bg-gray-500/10 text-gray-300 rounded border border-gray-500/20">入库</span>
                                </td>
                                <td class="p-3">冷却润滑剂 CL-90</td>
                                <td class="p-3">300</td>
                                <td class="p-3 text-slate-500">09:30:15</td>
                                <td class="p-3"><span class="flex items-center gap-1.5"><span
                                            class="w-1.5 h-1.5 bg-gray-500 rounded-full"></span>排队中</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>
        <!-- 右侧：预警与库存占比 -->
        <aside class="col-span-3 flex flex-col gap-6">
            <!-- 实时预警统计 -->
            <div class="h-1/2 bg-gray-800/40 border border-gray-700 rounded-xl p-4 flex flex-col">
                <h4 class="font-semibold text-gray-300 mb-4 flex items-center gap-2">
                    <span class="iconify" data-icon="mdi:alert-decagram"></span> 超限预警监控
                </h4>
                <div class="flex-1 space-y-3 overflow-auto hide-scrollbar">
                    <!-- 预警项 1 -->
                    <div class="bg-gray-500/5 border border-gray-500/20 p-3 rounded-lg flex gap-3 animate-alert">
                        <div class="bg-gray-500/20 w-8 h-8 rounded-full flex items-center justify-center shrink-0">
                            <span class="iconify text-gray-300" data-icon="mdi:thermometer-high"></span>
                        </div>
                        <div>
                            <p class="text-sm font-bold text-slate-200">库区温度异常 - 02仓</p>
                            <p class="text-[10px] text-slate-400 mt-1">当前 28.5℃ (上限 25℃)</p>
                        </div>
                    </div>
                    <!-- 预警项 2 -->
                    <div class="bg-gray-400/5 border border-gray-400/20 p-3 rounded-lg flex gap-3">
                        <div class="bg-gray-400/20 w-8 h-8 rounded-full flex items-center justify-center shrink-0">
                            <span class="iconify text-gray-300" data-icon="mdi:archive-alert"></span>
                        </div>
                        <div>
                            <p class="text-sm font-bold text-slate-200">库存水位预警 (低)</p>
                            <p class="text-[10px] text-slate-400 mt-1">SKU: 密封圈 P-01 (剩余: 120)</p>
                        </div>
                    </div>
                    <!-- 预警项 3 -->
                    <div class="bg-slate-800/40 border border-slate-700 p-3 rounded-lg flex gap-3 opacity-60">
                        <div class="bg-slate-700 w-8 h-8 rounded-full flex items-center justify-center shrink-0">
                            <span class="iconify text-slate-400" data-icon="mdi:clock-fast"></span>
                        </div>
                        <div>
                            <p class="text-sm font-bold text-slate-400">周转效率预警</p>
                            <p class="text-[10px] text-slate-500 mt-1">长效物资存储占比趋近限值</p>
                        </div>
                    </div>
                </div>
                <button
                    class="w-full mt-4 py-2 border border-gray-600 rounded-lg text-xs hover:bg-gray-700 transition-colors">查看全部预警历史</button>
            </div>
            <!-- 货物类型分析 -->
            <div class="flex-1 bg-gray-800/40 border border-gray-700 rounded-xl p-4 flex flex-col">
                <h4 class="font-semibold text-gray-400 mb-2 flex items-center gap-2">
                    <span class="iconify" data-icon="mdi:pie-chart"></span> 库存结构分布
                </h4>
                <div class="flex-1" id="pie-chart"></div>
            </div>
        </aside>
    </main>
    <footer class="h-6 bg-gray-800 flex items-center px-6 text-[10px] text-slate-500 justify-between">
        <div>数据源: SAP/WMS 集成系统 | 刷新频率: 5s</div>
        <div class="tracking-widest capitalize">Powered by Industrial Intelligence Platform</div>
    </footer>
    <script>
        // 时间更新
        function updateTime() {
            const now = new Date();
            const timeString = now.getFullYear() + '-' +
                String(now.getMonth() + 1).padStart(2, '0') + '-' +
                String(now.getDate()).padStart(2, '0') + ' ' +
                String(now.getHours()).padStart(2, '0') + ':' +
                String(now.getMinutes()).padStart(2, '0') + ':' +
                String(now.getSeconds()).padStart(2, '0');
            document.getElementById('current-time').textContent = timeString;
        }
        setInterval(updateTime, 1000);

        // 数据下钻交互
        function triggerDrilldown() {
            const panel = document.getElementById('drill-down-panel');
            panel.classList.remove('h-0', 'opacity-0');
            panel.classList.add('h-28', 'opacity-100', 'mt-4');
        }
        function closeDrilldown() {
            const panel = document.getElementById('drill-down-panel');
            panel.classList.add('h-0', 'opacity-0');
            panel.classList.remove('h-28', 'opacity-100', 'mt-4');
        }

        // 初始化图表
        // 趋势图
        const trendChart = echarts.init(document.getElementById('trend-chart'));
        trendChart.setOption({
            tooltip: { trigger: 'axis' },
            grid: { top: 10, bottom: 20, left: 30, right: 10 },
            xAxis: {
                type: 'category',
                data: ['01/03', '01/04', '01/05', '01/06', '01/07', '01/08', '01/09'],
                axisLine: { lineStyle: { color: '#6b7280' } }
            },
            yAxis: {
                type: 'value',
                splitLine: { lineStyle: { color: '#374151' } },
                axisLabel: { color: '#9ca3af' }
            },
            series: [
                {
                    name: '入库',
                    type: 'line',
                    smooth: true,
                    data: [120, 132, 101, 134, 90, 230, 210],
                    itemStyle: { color: '#9ca3af' },
                    areaStyle: { color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{ offset: 0, color: 'rgba(156,163,175,0.2)' }, { offset: 1, color: 'rgba(156,163,175,0)' }]) }
                },
                {
                    name: '出库',
                    type: 'line',
                    smooth: true,
                    data: [150, 232, 201, 154, 190, 330, 410],
                    itemStyle: { color: '#6b7280' }
                }
            ]
        });

        // 占用率仪表盘
        const gaugeChart = echarts.init(document.getElementById('gauge-chart'));
        gaugeChart.setOption({
            series: [{
                type: 'gauge',
                startAngle: 180,
                endAngle: 0,
                radius: '100%',
                pointer: { show: false },
                progress: { show: true, overlap: false, roundCap: true, clip: false, itemStyle: { color: '#9ca3af' } },
                axisLine: { lineStyle: { width: 10, color: [[1, '#374151']] } },
                splitLine: { show: false },
                axisTick: { show: false },
                axisLabel: { show: false },
                data: [{ value: 76.4, name: '利用率' }],
                detail: { fontSize: 24, offsetCenter: [0, -10], valueAnimation: true, formatter: '{value}%', color: '#fff' }
            }]
        });

        // 分布饼图
        const pieChart = echarts.init(document.getElementById('pie-chart'));
        pieChart.setOption({
            tooltip: { trigger: 'item' },
            legend: { bottom: '0', textStyle: { color: '#9ca3af', fontSize: 10 }, itemWidth: 10 },
            series: [{
                name: '库存构成',
                type: 'pie',
                radius: ['40%', '70%'],
                center: ['50%', '45%'],
                avoidLabelOverlap: false,
                itemStyle: { borderRadius: 10, borderColor: '#0f172a', borderWidth: 2 },
                label: { show: false },
                data: [
                    { value: 1048, name: '原材料', itemStyle: { color: '#9ca3af' } },
                    { value: 735, name: '半成品', itemStyle: { color: '#6b7280' } },
                    { value: 580, name: '产成品', itemStyle: { color: '#4b5563' } },
                    { value: 484, name: '备品备件', itemStyle: { color: '#374151' } }
                ]
            }]
        });

        // 响应式调整
        window.onresize = function () {
            trendChart.resize();
            gaugeChart.resize();
            pieChart.resize();
        };
    </script>
</body>

</html>